<% layout("/layouts/admin_boilerplate.ejs") %>
<head>
    <link rel="stylesheet" href="/styles/admin/editproject.css">
</head>

<div class="project-edit-container">
    <h1 class="project-edit-title">Update Project</h1>
    
    <div class="project-edit-form">
        <form action="/admin/projects/<%= project._id %>?_method=PUT" method="POST">
            <h2 class="section-title">
                <i class="fas fa-user-graduate" style="margin-right: 8px;"></i>
                Student Information
            </h2>

            <div class="form-group">
                <label for="studentName">
                    <i class="fas fa-users" style="margin-right: 8px;"></i>
                    Student Names:
                </label>
                <input 
                    type="text" 
                    id="studentName" 
                    name="project[studentName]" 
                    value="<%= project.studentName.join(', ') %>" 
                    placeholder="Enter student names (comma separated)"
                    required 
                />
            </div>

            <div class="form-group">
                <label for="graduationYear">
                    <i class="fas fa-calendar-alt" style="margin-right: 8px;"></i>
                    Graduation Year:
                </label>
                <input 
                    type="text" 
                    id="graduationYear" 
                    name="project[graduationYear]" 
                    value="<%= project.graduationYear %>"
                    placeholder="Enter graduation year"
                    required 
                />
            </div>

            <div class="form-group">
                <label for="department">
                    <i class="fas fa-building" style="margin-right: 8px;"></i>
                    Department:
                </label>
                <select id="department" name="project[department]" required>
                    <option value="Computer Engineering" <%=project.department==='Computer Engineering' ? 'selected' : '' %>>Computer Engineering</option>
                    <option value="Civil Engineering" <%=project.department==='Civil Engineering' ? 'selected' : '' %>>Civil Engineering</option>
                    <option value="Mechanical Engineering" <%=project.department==='Mechanical Engineering' ? 'selected' : '' %>>Mechanical Engineering</option>
                    <option value="Big Data" <%=project.department==='Big Data' ? 'selected' : '' %>>Big Data</option>
                    <option value="Artificial Intelligence" <%=project.department==='Artificial Intelligence' ? 'selected' : '' %>>Artificial Intelligence</option>
                </select>
            </div>

            <h2 class="section-title">
                <i class="fas fa-project-diagram" style="margin-right: 8px;"></i>
                Project Details
            </h2>

            <div class="form-group">
                <label for="projectName">
                    <i class="fas fa-file-signature" style="margin-right: 8px;"></i>
                    Project Name:
                </label>
                <input 
                    type="text" 
                    id="projectName" 
                    name="project[projectDetails][projectName]" 
                    value="<%= project.projectDetails.projectName %>"
                    placeholder="Enter project name"
                    required 
                />
            </div>

            <div class="form-group">
                <label for="description">
                    <i class="fas fa-align-left" style="margin-right: 8px;"></i>
                    Description:
                </label>
                <textarea 
                    id="description" 
                    name="project[projectDetails][description]" 
                    placeholder="Enter project description"
                    required
                ><%= project.projectDetails.description %></textarea>
            </div>

            <div class="form-group">
                <label for="githubLink">
                    <i class="fab fa-github" style="margin-right: 8px;"></i>
                    GitHub Link:
                </label>
                <input 
                    type="text" 
                    id="githubLink" 
                    name="project[projectDetails][githubLink]" 
                    value="<%= project.projectDetails.githubLink %>"
                    placeholder="Enter GitHub link"
                    required 
                />
            </div>

            <div class="form-group">
                <label for="status">
                    <i class="fas fa-tasks" style="margin-right: 8px;"></i>
                    Project Status:
                </label>
                <select id="status" name="project[projectDetails][status]" required>
                    <option value="completed" <%= project.projectDetails.status === 'completed' ? 'selected' : '' %>>Completed</option>
                    <option value="in progress" <%= project.projectDetails.status === 'in progress' ? 'selected' : '' %>>In Progress</option>
                    <option value="archived" <%= project.projectDetails.status === 'archived' ? 'selected' : '' %>>Archived</option>
                </select>
            </div>

            <button type="submit" class="update-btn">
                <i class="fas fa-save" style="margin-right: 8px;"></i>
                Update Project
            </button>
        </form>
    </div>
</div>
